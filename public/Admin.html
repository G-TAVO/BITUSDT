
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ADMIN</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<script>
if(localStorage.getItem("rol")!=="admin"){
location="login.html";
}
</script>

<h2>Panel ADMIN</h2>

<button onclick="verRoles()">Ver usuarios</button>
<button onclick="logout()">Salir</button>

<div id="roles" class="card oculto">
<h3>Usuarios registrados</h3>
<div id="lista"></div>
</div>

<script src="script.js"></script>

<script>
async function verRoles(){

document.getElementById("roles").classList.toggle("oculto");

const res = await fetch("/api/users");
const data = await res.json();

let html="";
data.forEach(u=>{
html+=`<p>${u.email}</p>`;
});

lista.innerHTML=html;
}
</script>

</body>
</html>
