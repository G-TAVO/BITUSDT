
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>BITUSDT</title>
<style>
body{font-family:Arial;background:#0b1220;color:#fff}
.card{background:#121a2f;padding:15px;border-radius:10px;margin:10px}
input,button{padding:8px;border-radius:6px;border:none}
button{background:#00ff9d;font-weight:bold;cursor:pointer}
.hidden{display:none}
.progress{background:#222;border-radius:8px;overflow:hidden}
.bar{height:15px;background:#00ff9d;width:0%}
</style>
</head>

<body>

<h2>BITUSDT</h2>

<div id="login" class="card">
<h3>Login</h3>
<input id="luser" placeholder="Correo"><br><br>
<input id="lpass" type="password" placeholder="Contrase침a"><br><br>
<button onclick="login()">Ingresar</button>
<p id="msg"></p>
</div>

<div id="registro" class="card">
<h3>Registro</h3>
<input id="ruser" placeholder="Correo"><br><br>
<input id="rpass" type="password" placeholder="Contrase침a"><br><br>
<input id="wallet" placeholder="Billetera Binance"><br><br>
<input id="ref" placeholder="C칩digo referido (opcional)"><br><br>
<button onclick="registro()">Registrarse</button>
</div>

<!-- CLIENTE -->
<div id="cliente" class="card hidden">
<h3>Panel Cliente</h3>

<p>Saldo: <b id="saldo">0</b> USD</p>
<p>D칤as: <b id="dias">0</b> / 15</p>

<div class="progress">
<div id="barra" class="bar"></div>
</div><br>

<button onclick="invertir()">Invertir</button>
<button onclick="retirar()">Retirar</button>

<hr>
<h4>Referidos</h4>
<p>Tu c칩digo: <b id="codigo"></b></p>
<button onclick="compartir()">Compartir por WhatsApp</button>

<p>Billetera Admin: <b>TRON20-ADMIN-12345</b></p>
</div>

<!-- ADMIN -->
<div id="admin" class="card hidden">
<h3>Panel Admin</h3>
<div id="solicitudes"></div>
</div>

<script>

let usuarios = JSON.parse(localStorage.getItem("usuarios"))||[];
let sesion = null;

function generarCodigo(){
return Math.random().toString(36).substring(2,8);
}

function registro(){
let codigo=generarCodigo();

usuarios.push({
user:ruser.value,
pass:rpass.value,
wallet:wallet.value,
saldo:0,
dias:0,
estado:"libre",
solicitud:false,
codigo:codigo
});

let refCod=ref.value;
if(refCod){
let due침o=usuarios.find(u=>u.codigo==refCod);
if(due침o){
due침o.saldo+=0.1;
alert("Referido v치lido +0.1 USD");
}
}

guardar();
alert("Registrado");
}

function login(){
let u=luser.value,p=lpass.value;

if(u=="Binancecoin958@gmail.com" && p=="Enriique1998"){
admin.style.display="block";
login.style.display="none";
registro.style.display="none";
cargarSolicitudes();
return;
}

sesion=usuarios.find(x=>x.user==u && x.pass==p);
if(!sesion)return msg.innerHTML="Datos incorrectos";

login.style.display="none";
registro.style.display="none";
cliente.style.display="block";

codigo.innerHTML=sesion.codigo;
actualizar();
}

function compartir(){
let link="https://bitusdt.onrender.com";
let msg=`Invierte en BITUSDT conmigo 游
Reg칤strate aqu칤: ${link}
Usa mi c칩digo: ${sesion.codigo}`;
window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`);
}

function invertir(){
sesion.solicitud=true;
guardar();
alert("Solicitud enviada al admin");
}

function cargarSolicitudes(){
let html="";
usuarios.forEach((u,i)=>{
if(u.solicitud){
html+=`
<div class="card">
${u.user}<br>
Billetera: ${u.wallet}<br>
<button onclick="aprobar(${i})">Aprobar</button>
<button onclick="rechazar(${i})">Rechazar</button>
</div>`;
}});
solicitudes.innerHTML=html;
}

function aprobar(i){
usuarios[i].estado="activo";
usuarios[i].dias=0;
usuarios[i].saldo=10;
usuarios[i].inicio=Date.now();
usuarios[i].solicitud=false;
guardar(); cargarSolicitudes();
}

function rechazar(i){
usuarios[i].solicitud=false;
guardar(); cargarSolicitudes();
}

function actualizar(){
let u=sesion;
if(u.estado=="activo"){
let dias=Math.floor((Date.now()-u.inicio)/86400000);
u.dias=dias;
u.saldo=10 + dias*(10/15);

if(u.saldo>20)u.saldo=20;
}

saldo.innerHTML=u.saldo.toFixed(2);
dias.innerHTML=u.dias;
barra.style.width=(u.dias/15*100)+"%";
guardar();
}

setInterval(()=>{
if(sesion)actualizar();
},5000);

function retirar(){
if(sesion.saldo<20)return alert("Debe llegar a 20 USD");

let recibe=sesion.saldo-4;
alert("Recibe: "+recibe+" USD");

sesion.saldo=0;
sesion.dias=0;
sesion.estado="libre";
guardar();
actualizar();
}

function guardar(){
localStorage.setItem("usuarios",JSON.stringify(usuarios));
}

</script>
</body>
</html>

