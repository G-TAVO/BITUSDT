<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>BITUSDT</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
background:linear-gradient(120deg,#0f2027,#203a43,#2c5364);
font-family:Arial;
color:white;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

.app{
background:#111;
padding:25px;
width:360px;
border-radius:15px;
box-shadow:0 0 20px #00ffc8;
text-align:center;
}

h1{color:#00ffc8}
input,button{
width:100%;
padding:10px;
margin:6px 0;
border:none;
border-radius:5px;
}
button{
background:#00ffc8;
font-weight:bold;
cursor:pointer;
}
button:hover{background:#00c9a7}
section{display:none}
.active{display:block}
.card{
background:#1c1c1c;
padding:10px;
border-radius:10px;
margin:5px 0;
}
</style>
</head>

<body>

<div class="app">

<h1>ðŸ’° BITUSDT</h1>

<section id="login" class="active">
<h3>Login</h3>
<input id="l_email" placeholder="Correo">
<input id="l_pass" type="password" placeholder="Clave">
<button onclick="login()">Entrar</button>
<p id="l_msg"></p>
<button onclick="show('register')">Crear cuenta</button>
</section>

<section id="register">
<h3>Registro</h3>
<input id="r_email" placeholder="Correo">
<input id="r_pass" type="password" placeholder="Clave">
<button onclick="register()">Registrar</button>
<p id="r_msg"></p>
<button onclick="show('login')">Volver</button>
</section>

<section id="panel">
<h3>Panel Cliente</h3>

<p>Estado: <b id="estadoTxt"></b></p>
<p>Saldo: <b id="saldoTxt"></b></p>

<input id="amount" placeholder="Monto invertir">

<button onclick="invertir()">Solicitar inversiÃ³n</button>
<button onclick="retirar()">Solicitar retiro</button>

<button onclick="logout()">Salir</button>
</section>

<section id="admin">
<h3>ADMIN</h3>
<button onclick="verSolicitudes()">Ver solicitudes</button>
<div id="lista"></div>
<button onclick="logout()">Salir</button>
</section>

</div>

<script>

// ADMIN
const ADMIN_EMAIL="Binancecoin958@gmail.com";
const ADMIN_PASS="Enriique1998";

let tasa=0.035;

// BASE DE DATOS LOCAL
let db = JSON.parse(localStorage.getItem("DB")) || [];

// MOSTRAR
function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

// GUARDAR BD
function save(){
localStorage.setItem("DB",JSON.stringify(db));
}

// REGISTRO
function register(){

let u={
email:r_email.value,
pass:r_pass.value,
saldo:0,
estado:"sin invertir",
ultima:null
};

db.push(u);
save();
r_msg.innerText="Registrado correctamente âœ”";
}

// LOGIN
function login(){

if(l_email.value==ADMIN_EMAIL && l_pass.value==ADMIN_PASS){
show("admin");
return;
}

let u=db.find(x=>x.email==l_email.value && x.pass==l_pass.value);

if(!u){
l_msg.innerText="Datos incorrectos";
return;
}

localStorage.setItem("actual",u.email);
actualizarGanancia(u);
update(u);
show("panel");
}

// INVERTIR
function invertir(){

let email=localStorage.getItem("actual");
let u=db.find(x=>x.email==email);

if(u.estado!="sin invertir")
return alert("Ya tienes solicitud activa");

let m=parseFloat(amount.value);
if(m<=0) return alert("Monto invÃ¡lido");

u.saldo=m;
u.estado="pendiente";
u.ultima=null;
save();

alert("Solicitud enviada al admin");
update(u);
}

// ADMIN
function verSolicitudes(){

let html="";
db.forEach(u=>{
if(u.estado=="pendiente"){
html+=`
<div class="card">
<b>${u.email}</b><br>
Monto: ${u.saldo}
<br>
<button onclick="aprobar('${u.email}')">Aprobar</button>
<button onclick="rechazar('${u.email}')">Rechazar</button>
</div>`;
}
});

lista.innerHTML=html || "No hay solicitudes";
}

// APROBAR
function aprobar(email){
let u=db.find(x=>x.email==email);
u.estado="aprobado";
u.ultima=Date.now();
save();
alert("InversiÃ³n aprobada");
verSolicitudes();
}

// RECHAZAR
function rechazar(email){
let u=db.find(x=>x.email==email);
u.estado="rechazado";
save();
alert("Solicitud rechazada");
verSolicitudes();
}

// GANANCIA
function actualizarGanancia(u){

if(u.estado!="aprobado") return;

let ahora=Date.now();
let dias=Math.floor((ahora-u.ultima)/(1000*60*60*24));

if(dias>0){
for(let i=0;i<dias;i++){
u.saldo+=u.saldo*tasa;
}
u.ultima=ahora;
save();
}
}

// RETIRO
function retirar(){

let email=localStorage.getItem("actual");
let u=db.find(x=>x.email==email);

if(u.saldo<20)
return alert("MÃ­nimo 20 USDT");

let recibir=u.saldo-4;

alert("Retiro aprobado\nRecibe: "+recibir.toFixed(2));

u.saldo=0;
u.estado="sin invertir";
u.ultima=null;
save();
update(u);
}

// ACTUALIZAR
function update(u){
estadoTxt.innerText=u.estado;
saldoTxt.innerText=u.saldo.toFixed(2)+" USDT";
}

// SALIR
function logout(){
localStorage.removeItem("actual");
show("login");
}

</script>

</body>
</html>


