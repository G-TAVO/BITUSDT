<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>BITUSDT</title>
<style>
body{font-family:Arial;background:#111;color:white}
.card{background:#1c1c1c;padding:15px;border-radius:10px;margin:10px}
button{background:#00ff99;border:none;padding:10px;border-radius:6px;font-weight:bold}
input{padding:8px;width:100%;margin:5px}
.admin{background:#ff0066}
</style>
</head>
<body>

<h2>BITUSDT</h2>

<div id="login" class="card">
<h3>Login</h3>
<input id="email" placeholder="Correo">
<input id="pass" type="password" placeholder="Contraseña">
<button onclick="login()">Entrar</button>
</div>

<div id="panel" style="display:none">

<div class="card">
<h3>Perfil</h3>
<p id="pemail"></p>
<input id="wallet" placeholder="Tu billetera Binance">
<button onclick="saveWallet()">Guardar billetera</button>
<p id="mywallet"></p>
</div>

<div class="card">
<h3>Invertir</h3>
<button onclick="invert()">Solicitar inversión</button>
<p id="estado"></p>
</div>

<div class="card">
<h3>Retiro</h3>
<button onclick="retirar()">Retirar todo</button>
<p id="retiro"></p>
</div>

<div id="admin" class="card" style="display:none">
<h3>PANEL ADMIN</h3>
<div id="solicitudes"></div>
</div>

</div>

<script>

const ADMIN="Binancecoin958@gmail.com"
const ADMINPASS="Enriique1998"

let user=null

function login(){

let e=email.value
let p=pass.value

if(e==ADMIN && p==ADMINPASS){
user={email:e,rol:"admin"}
localStorage.setItem("user",JSON.stringify(user))
location.reload()
return
}

let u=JSON.parse(localStorage.getItem(e))
if(!u){alert("Usuario no existe");return}
if(u.pass!=p){alert("Contraseña incorrecta");return}

user=u
localStorage.setItem("user",JSON.stringify(user))
location.reload()
}

if(localStorage.getItem("user")){
user=JSON.parse(localStorage.getItem("user"))
login.style.display="none"
panel.style.display="block"
pemail.innerText=user.email

if(user.rol=="admin"){
admin.style.display="block"
loadSolicitudes()
}else{
loadUser()
}
}

function saveWallet(){
user.wallet=wallet.value
localStorage.setItem(user.email,JSON.stringify(user))
alert("Billetera guardada")
}

function invert(){
user.estado="pendiente"
localStorage.setItem(user.email,JSON.stringify(user))
alert("Solicitud enviada al admin")
}

function loadUser(){
let u=JSON.parse(localStorage.getItem(user.email))
estado.innerText="Estado: "+(u.estado||"sin invertir")
mywallet.innerText="Tu billetera: "+(u.wallet||"no registrada")
}

function retirar(){
if(user.estado!="aprobado"){
alert("No aprobado")
return
}
let total=20
let desc=4
let recibe=total-desc
retiro.innerText="Recibes: "+recibe+" USD (simulado)"
user.estado="retirado"
localStorage.setItem(user.email,JSON.stringify(user))
}

function loadSolicitudes(){

solicitudes.innerHTML=""

for(let i=0;i<localStorage.length;i++){
let k=localStorage.key(i)
if(k.includes("@")){
let u=JSON.parse(localStorage.getItem(k))
if(u.estado=="pendiente"){
solicitudes.innerHTML+=`
<div class="card">
<b>${u.email}</b><br>
Wallet: ${u.wallet||"no"}<br>
<button onclick="aprobar('${u.email}')">Aprobar</button>
<button class="admin" onclick="rechazar('${u.email}')">Rechazar</button>
</div>`
}
}
}
}

function aprobar(e){
let u=JSON.parse(localStorage.getItem(e))
u.estado="aprobado"
localStorage.setItem(e,JSON.stringify(u))
loadSolicitudes()
}

function rechazar(e){
let u=JSON.parse(localStorage.getItem(e))
u.estado="rechazado"
localStorage.setItem(e,JSON.stringify(u))
loadSolicitudes()
}

</script>
</body>
</html>

